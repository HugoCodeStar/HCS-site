"use strict";(self.webpackChunkhugo_code_star_site=self.webpackChunkhugo_code_star_site||[]).push([[2309],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,g=c["".concat(o,".").concat(m)]||c[m]||p[m]||l;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1479:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return u},toc:function(){return d},default:function(){return c}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],s={title:"Introduction base de donn\xe9es",sidebar_label:"3 - Intro BD"},o=void 0,u={unversionedId:"inf5111/Cours/cours3",id:"inf5111/Cours/cours3",isDocsHomePage:!1,title:"Introduction base de donn\xe9es",description:"Introduction aux syst\xe8mes de gestions de bases de donn\xe9es (SGBD)",source:"@site/docs/inf5111/Cours/cours3.md",sourceDirName:"inf5111/Cours",slug:"/inf5111/Cours/cours3",permalink:"/site/docs/inf5111/Cours/cours3",editUrl:"https://github.com/HugoCodeStar/site/edit/master/docs/inf5111/Cours/cours3.md",tags:[],version:"current",frontMatter:{title:"Introduction base de donn\xe9es",sidebar_label:"3 - Intro BD"},sidebar:"INF5111Sidebar",previous:{title:"2 - Intro programmation",permalink:"/site/docs/inf5111/Cours/cours2"},next:{title:"4 - Jointures & pandas",permalink:"/site/docs/inf5111/Cours/cours4"}},d=[{value:"Introduction aux syst\xe8mes de gestions de bases de donn\xe9es (SGBD)",id:"introduction-aux-syst\xe8mes-de-gestions-de-bases-de-donn\xe9es-sgbd",children:[{value:"\xc9l\xe9ments d&#39;une base de donn\xe9es relationnels",id:"\xe9l\xe9ments-dune-base-de-donn\xe9es-relationnels",children:[]}]},{value:"Le langage SQL",id:"le-langage-sql",children:[]},{value:"Les niveaux du langage SQL",id:"les-niveaux-du-langage-sql",children:[]},{value:"La s\xe9lection avec le <code>SELECT</code>",id:"la-s\xe9lection-avec-le-select",children:[{value:"Les \xe9l\xe9ments uniques avec <code>DISTINCT</code>",id:"les-\xe9l\xe9ments-uniques-avec-distinct",children:[]},{value:"Filtrage des informations avec <code>WHERE</code>",id:"filtrage-des-informations-avec-where",children:[]},{value:"Trie de r\xe9sultat par le <code>GROUP BY</code>",id:"trie-de-r\xe9sultat-par-le-group-by",children:[]},{value:"Fonctions d&#39;agr\xe9gation",id:"fonctions-dagr\xe9gation",children:[]}]}],p={toc:d};function c(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"introduction-aux-syst\xe8mes-de-gestions-de-bases-de-donn\xe9es-sgbd"},"Introduction aux syst\xe8mes de gestions de bases de donn\xe9es (SGBD)"),(0,l.kt)("p",null,"Les syst\xe8mes de gestion de bases de donn\xe9es relationnelle (RDBMS) impl\xe9mentent un logiciel permettant de faire l'enregistrement de donn\xe9es avec les caract\xe9ristiques suivantes :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Les donn\xe9es sont structur\xe9es"),(0,l.kt)("li",{parentName:"ul"},"Elles sont persistantes"),(0,l.kt)("li",{parentName:"ul"},"Structure d\xe9finie dans un sch\xe9ma"),(0,l.kt)("li",{parentName:"ul"},"Architecture client-serveur")),(0,l.kt)("h3",{id:"\xe9l\xe9ments-dune-base-de-donn\xe9es-relationnels"},"\xc9l\xe9ments d'une base de donn\xe9es relationnels"),(0,l.kt)("h4",{id:"tablerelation"},"Table/Relation"),(0,l.kt)("p",null,"L'\xe9l\xe9ment principal est la table (relation). Celle-ci consiste d'un sch\xe9ma (description) de diff\xe9rentes colonnes (attributs) qui pourront \xeatre inscrites dans la table. Elle peut aussi avoir des r\xe8gles additionnelles pour des contraintes ou des caract\xe9ristiques de performances (index)."),(0,l.kt)("h4",{id:"lignetupleenregistrement"},"Ligne/Tuple/Enregistrement"),(0,l.kt)("p",null,"Les tables re\xe7oivent des informations sous forme de ligne (enregistrement). Ceux-ci contiennent les informations des colonnes de la table. Chaque colonne (attribut) est sp\xe9cifi\xe9e dans le sch\xe9ma de la table."),(0,l.kt)("h4",{id:"colonneattributchamp"},"Colonne/Attribut/Champ"),(0,l.kt)("p",null,"La table est compos\xe9e de colonnes (attribut). Chaque colonne est identifi\xe9e par un nom, un type de donn\xe9es et d'autre sp\xe9cificit\xe9 (contraintes)."),(0,l.kt)("h4",{id:"cl\xe9-primaire-primary-key-pk"},"Cl\xe9 primaire (Primary key ",(0,l.kt)("inlineCode",{parentName:"h4"},"PK"),")"),(0,l.kt)("p",null,"Chaque table aura une cl\xe9 primaire qui sera utilis\xe9e pour d\xe9signer chaque ligne d'une table de mani\xe8re unique. La cl\xe9 primaire est habituellement une colonne ou plusieurs colonnes."),(0,l.kt)("h4",{id:"cl\xe9-\xe9trang\xe8re-foreign-key-fk"},"Cl\xe9 \xe9trang\xe8re (Foreign key ",(0,l.kt)("inlineCode",{parentName:"h4"},"FK"),")"),(0,l.kt)("p",null,"Certaines colonnes d'une table peuvent \xeatre identifi\xe9es comme cl\xe9 \xe9trang\xe8re. Ceux-ci d\xe9signent la cl\xe9 primaire d'une autre table. Cette identification permet de relier les informations d'une table \xe0 une autre."),(0,l.kt)("h2",{id:"le-langage-sql"},"Le langage SQL"),(0,l.kt)("p",null,"Pour \xeatre capable de communiquer avec un SGBDR, le langage SQL (Structured Query Langage) sera utilis\xe9. Le langage permet d'avoir est instruction structur\xe9 qui seront effectu\xe9 sur la SGBDR et leurs r\xe9sultats sera renvoy\xe9 au client qui a fait la requ\xeate."),(0,l.kt)("h2",{id:"les-niveaux-du-langage-sql"},"Les niveaux du langage SQL"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"DDL - Data Definition Language - Description du sch\xe9ma/Cr\xe9ation des tables"),(0,l.kt)("li",{parentName:"ul"},"DML - Data Manipulation Language - Manipulation des donn\xe9es (S\xe9lection, insertion, mise \xe0 jour, suppression)"),(0,l.kt)("li",{parentName:"ul"},"DCL - Data Control Language - Gestion de l'acc\xe8s (utilisateur/permission)")),(0,l.kt)("p",null,"Nous d\xe9buterons avec la s\xe9lection de donn\xe9s (DML) et la commande ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),"."),(0,l.kt)("h2",{id:"la-s\xe9lection-avec-le-select"},"La s\xe9lection avec le ",(0,l.kt)("inlineCode",{parentName:"h2"},"SELECT")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/sql-select.html"},"R\xe9f\xe9rence")),(0,l.kt)("p",null,"Le ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," permet de faire une s\xe9lection d'information sur une (et possiblement plusieurs) table. La forme g\xe9n\xe9rale du ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," est la suivante :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    expressions\nFROM\n    table_name;\n")),(0,l.kt)("p",null,"L'\xe9valuation d\xe9bute avec le ",(0,l.kt)("inlineCode",{parentName:"p"},"FROM")," qui d\xe9termine de quelle table on va chercher les informations. Le ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," indique les expressions \xe0 aller s\xe9lectionner, habituellement des noms de colonnes sont utilis\xe9s. Si l'on veut toutes les colonnes d'une table, on remplace les expressions par ",(0,l.kt)("inlineCode",{parentName:"p"},"*"),". Le ",(0,l.kt)("inlineCode",{parentName:"p"},";")," indique la fin d'une instruction SQL."),(0,l.kt)("p",null,"Chaque expression peut \xeatre d\xe9limit\xe9e par une virgule et avoir des op\xe9rations. \xc0 l'int\xe9rieur de scripts SQL, les ",(0,l.kt)("inlineCode",{parentName:"p"},"--")," sont utilis\xe9 pour les commentaires."),(0,l.kt)("p",null,"Il est possible de renommer les expressions avec le mot cl\xe9 ",(0,l.kt)("inlineCode",{parentName:"p"},"AS"),". Cela est utile avec les expressions complexes qui utilisent plus que seulement la colonne."),(0,l.kt)("h3",{id:"les-\xe9l\xe9ments-uniques-avec-distinct"},"Les \xe9l\xe9ments uniques avec ",(0,l.kt)("inlineCode",{parentName:"h3"},"DISTINCT")),(0,l.kt)("p",null,"Il est possible de limiter les duplicata avec le mot-cl\xe9 ",(0,l.kt)("inlineCode",{parentName:"p"},"DISTINCT"),". Celui-ci est rajout\xe9 avant les colonnes et va limiter sa s\xe9lection \xe0 des r\xe9ponses uniques."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n   DISTINCT column1\nFROM\n   table_name;\n")),(0,l.kt)("h3",{id:"filtrage-des-informations-avec-where"},"Filtrage des informations avec ",(0,l.kt)("inlineCode",{parentName:"h3"},"WHERE")),(0,l.kt)("p",null,"Par d\xe9faut le ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," retournent toutes les lignes d'une table. Le ",(0,l.kt)("inlineCode",{parentName:"p"},"WHERE")," permet de filtrer des lignes d'un ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    expression\nFROM\n    table_name\nWHERE\n    condition;\n")),(0,l.kt)("p",null,"La condition est une expression qui sera \xe9valu\xe9e pour chaque ligne r\xe9sultante et qui sera gard\xe9, la condition est vrai. Les conditions peuvent avoir une panoplie d'op\xe9rateur :"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/14/functions-comparison.html"},"R\xe9f\xe9rence")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Op\xe9rateur"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"=")),(0,l.kt)("td",{parentName:"tr",align:null},"\xe9gal")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},">")),(0,l.kt)("td",{parentName:"tr",align:null},"plus grand que")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<")),(0,l.kt)("td",{parentName:"tr",align:null},"plus petit que")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},">=")),(0,l.kt)("td",{parentName:"tr",align:null},"plus grand ou \xe9gal")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<=")),(0,l.kt)("td",{parentName:"tr",align:null},"plus petit ou \xe9gal")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<>")," ou ",(0,l.kt)("inlineCode",{parentName:"td"},"!=")),(0,l.kt)("td",{parentName:"tr",align:null},"diff\xe9rent de")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"AND"),(0,l.kt)("td",{parentName:"tr",align:null},"op\xe9ration logique ET")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"OR"),(0,l.kt)("td",{parentName:"tr",align:null},"op\xe9ration logique OU")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IN"),(0,l.kt)("td",{parentName:"tr",align:null},"Retroune vrai si la valeur est incluse dans la liste donn\xe9e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"BETWEEN"),(0,l.kt)("td",{parentName:"tr",align:null},"Retourve vrai si la valeur est entre les bornes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LIKE"),(0,l.kt)("td",{parentName:"tr",align:null},"Retourne vrai si la valeur r\xe9pond au pattern")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IS NULL"),(0,l.kt)("td",{parentName:"tr",align:null},"Retourne vrai si la valeur est NULL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"NOT"),(0,l.kt)("td",{parentName:"tr",align:null},"Inverse le r\xe9sultat logique du reste des op\xe9rations")))),(0,l.kt)("h4",{id:"motif-pattern-matching-avec-like"},"Motif (pattern matching) avec ",(0,l.kt)("inlineCode",{parentName:"h4"},"LIKE")),(0,l.kt)("p",null,"L'op\xe9ration ",(0,l.kt)("inlineCode",{parentName:"p"},"LIKE")," est sp\xe9ciale car elle tente de faire la d\xe9tection d'un motif (pattern) dans une chaine. Deux caract\xe8re sont sp\xe9ciaux : le tire-bas ",(0,l.kt)("inlineCode",{parentName:"p"},"_")," remplace un caract\xe8re simple et le poucentage ",(0,l.kt)("inlineCode",{parentName:"p"},"%")," remplace une s\xe9quence de z\xe9ro \xe0 une infinit\xe9 de caract\xe8res."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"'abc' LIKE 'abc'    -- true\n'abc' LIKE 'a%'     -- true\n'abc' LIKE '_b_'    -- true\n'abc' LIKE 'c'      -- false\n")),(0,l.kt)("h3",{id:"trie-de-r\xe9sultat-par-le-group-by"},"Trie de r\xe9sultat par le ",(0,l.kt)("inlineCode",{parentName:"h3"},"GROUP BY")),(0,l.kt)("p",null,"Il est possible de trier les r\xe9sultats avant l'affichage avec un ",(0,l.kt)("inlineCode",{parentName:"p"},"ORDER BY"),". Il est ensuite possible de donn\xe9 la liste des colonnes qui sera utilis\xe9 pour le trie. Les colonnes peuvent avoir l'ajout ",(0,l.kt)("inlineCode",{parentName:"p"},"DESC")," si on veut un tri inverse."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n    select_list\nFROM\n    table_name\nORDER BY\n    sort_expression1 [ASC | DESC],\n        ...\n    sort_expressionN [ASC | DESC];\n")),(0,l.kt)("h3",{id:"fonctions-dagr\xe9gation"},"Fonctions d'agr\xe9gation"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/9.5/functions-aggregate.html"},"R\xe9f\xe9rence")),(0,l.kt)("p",null,"Il existe des fonctions permettant de faire l'agr\xe9gation d'information sur toutes les lignes d'une table. Les fonctions suivantes peuvent \xeatre utilis\xe9es comme expression sur une table. "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Fonction"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"avg(column)"),(0,l.kt)("td",{parentName:"tr",align:null},"Moyenne des valeurs")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"count(column)"),(0,l.kt)("td",{parentName:"tr",align:null},"D\xe9compte du nombre de ligne")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"min(column), max(column)"),(0,l.kt)("td",{parentName:"tr",align:null},"Trouve la valeur min/max des lignes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sum(column)"),(0,l.kt)("td",{parentName:"tr",align:null},"La somme des valeurs des lignes")))),(0,l.kt)("p",null,"Les fonctions d'agr\xe9gats transforment le r\xe9sultat final et ne sont pas utilisables avec des expressions d'autres colonnes qui ne sont pas des fonctions d'agr\xe9gats."))}c.isMDXComponent=!0}}]);