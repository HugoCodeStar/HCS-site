(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{120:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return m}));var a=t(0),s=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,s=function(e,n){if(null==e)return{};var t,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var u=s.a.createContext({}),d=function(e){var n=s.a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=d(e.components);return s.a.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return s.a.createElement(s.a.Fragment,{},n)}},b=s.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=d(t),b=a,m=c["".concat(o,".").concat(b)]||c[b]||p[b]||r;return t?s.a.createElement(m,l(l({ref:n},u),{},{components:t})):s.a.createElement(m,l({ref:n},u))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=b;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<r;u++)o[u]=t[u];return s.a.createElement.apply(null,o)}return s.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},86:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return i})),t.d(n,"default",(function(){return d}));var a=t(2),s=t(6),r=(t(0),t(120)),o={},l={unversionedId:"g25/SQLite",id:"g25/SQLite",isDocsHomePage:!1,title:"SQLite",description:"Enregistrer les donn\xe9es \xe0 l'aide de SQLite",source:"@site/docs/g25/SQLite.md",slug:"/g25/SQLite",permalink:"/site/docs/g25/SQLite",editUrl:"https://github.com/HugoCodeStar/site/edit/master/docs/g25/SQLite.md",version:"current",sidebar:"G25Sidebar",previous:{title:"Journaux",permalink:"/site/docs/g25/log"}},i=[{value:"\xc9tape 1 - D\xe9finir un sch\xe9ma et un contrat",id:"\xe9tape-1---d\xe9finir-un-sch\xe9ma-et-un-contrat",children:[]},{value:"\xc9tape 2 - Cr\xe9er une base de donn\xe9es \xe0 l&#39;aide d&#39;un assistant SQL",id:"\xe9tape-2---cr\xe9er-une-base-de-donn\xe9es-\xe0-laide-dun-assistant-sql",children:[]},{value:"\xc9tape 3 - Mette des informations dans une base de donn\xe9es",id:"\xe9tape-3---mette-des-informations-dans-une-base-de-donn\xe9es",children:[]},{value:"\xc9tape 4 - Lire des informations \xe0 partir d&#39;une base de donn\xe9es",id:"\xe9tape-4---lire-des-informations-\xe0-partir-dune-base-de-donn\xe9es",children:[]},{value:"\xc9tape 5 - Supprimer des informations d&#39;une base de donn\xe9es",id:"\xe9tape-5---supprimer-des-informations-dune-base-de-donn\xe9es",children:[]},{value:"\xc9tape 6 - Mettre \xe0 jour une base de donn\xe9es",id:"\xe9tape-6---mettre-\xe0-jour-une-base-de-donn\xe9es",children:[]},{value:"\xc9tape 7 - Connexion \xe0 la base de donn\xe9es persistante",id:"\xe9tape-7---connexion-\xe0-la-base-de-donn\xe9es-persistante",children:[]}],u={rightToc:i};function d(e){var n=e.components,t=Object(s.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"enregistrer-les-donn\xe9es-\xe0-laide-de-sqlite"},"Enregistrer les donn\xe9es \xe0 l'aide de SQLite"),Object(r.b)("p",null,"L'enregistrement des donn\xe9es dans une base de donn\xe9es est id\xe9al pour les donn\xe9es r\xe9p\xe9titives ou structur\xe9es, telles que les informations de contact. Cette page  vous aide \xe0 d\xe9marrer avec les bases de donn\xe9es SQLite sur Android. Les API dont vous aurez besoin pour utiliser une base de donn\xe9es sur Android sont disponibles dans le ",Object(r.b)("inlineCode",{parentName:"p"},"android.database.sqlitepackage"),"."),Object(r.b)("h2",{id:"\xe9tape-1---d\xe9finir-un-sch\xe9ma-et-un-contrat"},"\xc9tape 1 - D\xe9finir un sch\xe9ma et un contrat"),Object(r.b)("p",null,"L'un des principes fondamentaux des bases de donn\xe9es SQL est le sch\xe9ma: une d\xe9claration formelle de l'organisation de la base de donn\xe9es. Le sch\xe9ma est refl\xe9t\xe9 dans les instructions SQL que vous utilisez pour cr\xe9er votre base de donn\xe9es. Vous pouvez trouver utile de cr\xe9er une classe compagnon, appel\xe9e classe de contrat , qui sp\xe9cifie explicitement la mise en page de votre sch\xe9ma de mani\xe8re syst\xe9matique et auto-document\xe9e."),Object(r.b)("p",null,"Une classe de contrat est un conteneur pour les constantes qui d\xe9finissent les noms des URI, des tables et des colonnes. La classe contract vous permet d'utiliser les m\xeames constantes dans toutes les autres classes du m\xeame package. Cela vous permet de modifier le nom d'une colonne \xe0 un seul endroit et de le propager dans tout votre code."),Object(r.b)("p",null,"Un bon moyen d'organiser une classe de contrat est de placer des d\xe9finitions globales pour l'ensemble de votre base de donn\xe9es au niveau racine de la classe. Cr\xe9ez ensuite une classe interne pour chaque table. Chaque classe interne \xe9num\xe8re les colonnes de la table correspondante."),Object(r.b)("p",null,"Par exemple, le contrat suivant d\xe9finit le nom de la table et les noms des colonnes pour une seule table repr\xe9sentant un flux RSS:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'public final class LecteurFluxContrat {\n    // Pour pr\xe9venir l\'instentiation\n    private LecteurFluxContrat() {}\n\n    /* Classe interne de notre sch\xe9ma */\n    public static class FluxNoms implements BaseColumns {\n        public static final String NOM_TABLE = "entree";\n        public static final String NOM_COLONNE_TITRE = "titre";\n        public static final String NOM_COLONNE_SOUSTITRE = "sous-titre";\n    }\n}\n')),Object(r.b)("h2",{id:"\xe9tape-2---cr\xe9er-une-base-de-donn\xe9es-\xe0-laide-dun-assistant-sql"},"\xc9tape 2 - Cr\xe9er une base de donn\xe9es \xe0 l'aide d'un assistant SQL"),Object(r.b)("p",null,"Une fois que vous avez d\xe9fini l'apparence de votre base de donn\xe9es, vous devez impl\xe9menter des m\xe9thodes qui cr\xe9ent et g\xe8rent la base de donn\xe9es et les tables. Voici quelques instructions typiques qui cr\xe9ent et suppriment une table:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'private static final String SQL_CREATE_ENTRIES =\n    "CREATE TABLE " + FluxNoms.NOM_TABLE + " (" +\n    FluxNoms._ID + " INTEGER PRIMARY KEY," +\n    FluxNoms.NOM_COLONNE_TITRE + " TEXT," +\n    FluxNoms.NOM_COLONNE_SOUSTITRE + " TEXT)";\n\nprivate static final String SQL_DELETE_ENTRIES =\n    "DROP TABLE IF EXISTS " + FluxNoms.NOM_TABLE;\n')),Object(r.b)("p",null,"Tout comme les fichiers que vous enregistrez sur le stockage interne de l'appareil , Android stocke votre base de donn\xe9es dans le dossier priv\xe9 de votre application. Vos donn\xe9es sont s\xe9curis\xe9es, car par d\xe9faut cette zone n'est pas accessible aux autres applications ou \xe0 l'utilisateur."),Object(r.b)("p",null,"La classe ",Object(r.b)("inlineCode",{parentName:"p"},"SQLiteOpenHelper")," contient un ensemble d'API utiles pour g\xe9rer votre base de donn\xe9es. Lorsque vous utilisez cette classe pour obtenir des r\xe9f\xe9rences \xe0 votre base de donn\xe9es, le syst\xe8me effectue les op\xe9rations potentiellement longues de cr\xe9ation et de mise \xe0 jour de la base de donn\xe9es uniquement lorsque cela est n\xe9cessaire et non pendant le d\xe9marrage de l'application . Tout ce que vous avez \xe0 faire est d'appeler ",Object(r.b)("inlineCode",{parentName:"p"},"getWritableDatabase()")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"getReadableDatabase()"),"."),Object(r.b)("p",null,"Pour utiliser ",Object(r.b)("inlineCode",{parentName:"p"},"SQLiteOpenHelper"),", cr\xe9ez une sous-classe qui remplace les m\xe9thodes de rappel ",Object(r.b)("inlineCode",{parentName:"p"},"onCreate()")," et ",Object(r.b)("inlineCode",{parentName:"p"},"onUpgrade()"),". Vous souhaiterez peut-\xeatre \xe9galement impl\xe9menter les m\xe9thodes ",Object(r.b)("inlineCode",{parentName:"p"},"onDowngrade()")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"onOpen()"),", mais elles ne sont pas obligatoires."),Object(r.b)("p",null,"Par exemple, voici une impl\xe9mentation de ",Object(r.b)("inlineCode",{parentName:"p"},"SQLiteOpenHelper")," qui utilise certaines des commandes ci-dessus:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"public class LecteurFluxDbHelper extends SQLiteOpenHelper {\n    // Si le sch\xe9ma change, on change le num\xe9ro de version.\n    public static final int DATABASE_VERSION = 1;\n    public static final String DATABASE_NAME = \"LecteurFlux.db\";\n\n    public LecteurFluxDbHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(SQL_CREATE_ENTRIES);\n    }\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Un exemple d'upgrade serait pour une cache de data mise en ligne.\n        // L'upgreade serait donc de rebatir la BD de toute pi\xe8ce.\n        db.execSQL(SQL_DELETE_ENTRIES);\n        onCreate(db);\n    }\n    public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        onUpgrade(db, oldVersion, newVersion);\n    }\n}\n")),Object(r.b)("p",null,"Pour acc\xe9der \xe0 votre base de donn\xe9es, instanciez votre sous-classe de ",Object(r.b)("inlineCode",{parentName:"p"},"SQLiteOpenHelper"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"LecteurFluxDbHelper dbHelper = new LecteurFluxDbHelper(getContext());\n")),Object(r.b)("h2",{id:"\xe9tape-3---mette-des-informations-dans-une-base-de-donn\xe9es"},"\xc9tape 3 - Mette des informations dans une base de donn\xe9es"),Object(r.b)("p",null,"Ins\xe9rez des donn\xe9es dans la base de donn\xe9es en passant un objet ",Object(r.b)("inlineCode",{parentName:"p"},"ContentValues")," \xe0 la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"insert()"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// Va cherche le d\xe9pot de donn\xe9es en \xe9criture\nSQLiteDatabase db = dbHelper.getWritableDatabase();\n\n// Cr\xe9\xe9 un nouveau ContentValues avec les informations \xe0 rajouter.\nContentValues values = new ContentValues();\nvalues.put(FluxNoms.NOM_COLONNE_TITRE, title);\nvalues.put(FluxNoms.NOM_COLONNE_SOUSTITRE, subtitle);\n\n// Ins\xe8re la nouvelle ligne et retourne la cl\xe9 de la nouvelle ligne.\nlong newRowId = db.insert(FluxNoms.NOM_TABLE, null, values);\n")),Object(r.b)("p",null,"Le premier argument pour ",Object(r.b)("inlineCode",{parentName:"p"},"insert()")," est simplement le nom de la table."),Object(r.b)("p",null,"Le deuxi\xe8me argument indique au framework ce qu'il doit faire dans le cas o\xf9 le ",Object(r.b)("inlineCode",{parentName:"p"},"ContentValues")," est vide (c'est-\xe0-dire que vous n'avez pas ",Object(r.b)("inlineCode",{parentName:"p"},"put")," de valeurs). Si vous sp\xe9cifiez le nom d'une colonne, l'infrastructure ins\xe8re une ligne et d\xe9finit la valeur de cette colonne sur ",Object(r.b)("inlineCode",{parentName:"p"},"null"),". Si vous sp\xe9cifiez ",Object(r.b)("inlineCode",{parentName:"p"},"null"),", comme dans cet exemple de code, le framework n'ins\xe8re pas de ligne en l'absence de valeurs."),Object(r.b)("p",null,"Les m\xe9thodes ",Object(r.b)("inlineCode",{parentName:"p"},"insert()")," retournent l'ID de la ligne nouvellement cr\xe9\xe9e, ou elles renverront -1 en cas d'erreur lors de l'insertion des donn\xe9es. Cela peut se produire si vous avez un conflit avec des donn\xe9es pr\xe9existantes dans la base de donn\xe9es."),Object(r.b)("h2",{id:"\xe9tape-4---lire-des-informations-\xe0-partir-dune-base-de-donn\xe9es"},"\xc9tape 4 - Lire des informations \xe0 partir d'une base de donn\xe9es"),Object(r.b)("p",null,"Pour lire \xe0 partir d'une base de donn\xe9es, utilisez la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"query()")," en lui passant vos crit\xe8res de s\xe9lection et les colonnes souhait\xe9es. La m\xe9thode combine des \xe9l\xe9ments de ",Object(r.b)("inlineCode",{parentName:"p"},"insert()")," et ",Object(r.b)("inlineCode",{parentName:"p"},"update()"),', sauf que la liste de colonnes d\xe9finit les donn\xe9es que vous souhaitez r\xe9cup\xe9rer (la "projection"), plut\xf4t que les donn\xe9es \xe0 ins\xe9rer. Les r\xe9sultats de la requ\xeate vous sont renvoy\xe9s dans un objet ',Object(r.b)("inlineCode",{parentName:"p"},"Cursor"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'SQLiteDatabase db = dbHelper.getReadableDatabase();\n\n// D\xe9finie une projection qui sp\xe9cifie quelles colonnes de la DB\n// on va utiliser apr\xe8s la requ\xeate.\nString[] projection = {\n    BaseColumns._ID,\n    FluxNoms.NOM_COLONNE_TITRE,\n    FluxNoms.NOM_COLONNE_SOUSTITRE\n    };\n\n// Filter results WHERE "title" = \'My Title\'\n// Filtre les r\xe9sultats avec un WHERE "titre = \'Mon titre\'\nString selection = FluxNoms.NOM_COLONNE_TITRE + " = ?";\nString[] selectionArgs = { "Mon titre" };\n\n// Indique l\'ordre de tri du Cursor\nString sortOrder =\n    FluxNoms.NOM_COLONNE_SOUSTITRE + " DESC";\n\nCursor cursor = db.query(\n    FluxNoms.NOM_TABLE,   // Le nom de la table\n    projection,             // Le tableau des colonnes a retourner (null pour toutes les colonnes)\n    selection,              // Les colonnes du WHERE \n    selectionArgs,          // Les valeurs du WHERE\n    null,                   // Regroupment (group by)\n    null,                   // Filtre des regroupement\n    sortOrder               // L\'ordre de tri\n    );\n')),Object(r.b)("p",null,"Les troisi\xe8me et quatri\xe8me arguments (",Object(r.b)("inlineCode",{parentName:"p"},"selection")," et ",Object(r.b)("inlineCode",{parentName:"p"},"selectionArgs"),") sont combin\xe9s pour cr\xe9er une clause WHERE. \xc9tant donn\xe9 que les arguments sont fournis s\xe9par\xe9ment de la requ\xeate de s\xe9lection, ils sont \xe9chapp\xe9s avant d'\xeatre combin\xe9s. Cela rend vos instructions de s\xe9lection insensibles \xe0 l'injection SQL. Pour plus de d\xe9tails sur tous les arguments, consultez la r\xe9f\xe9rence de la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"query()"),"."),Object(r.b)("p",null,"Pour regarder une ligne dans le curseur, utilisez l'une des m\xe9thodes de ",Object(r.b)("inlineCode",{parentName:"p"},"Cursor")," de d\xe9placement, que vous devez toujours appeler avant de commencer \xe0 lire les valeurs. Puisque le curseur commence \xe0 la position -1, l'appel ",Object(r.b)("inlineCode",{parentName:"p"},"moveToNext()")," place la \"position de lecture\" sur la premi\xe8re entr\xe9e dans les r\xe9sultats et retourne si le curseur est d\xe9j\xe0 pass\xe9 ou non la derni\xe8re entr\xe9e dans l'ensemble de r\xe9sultats. Pour chaque ligne, vous pouvez lire la valeur d'une colonne en appelant l'une des m\xe9thodes ",Object(r.b)("inlineCode",{parentName:"p"},"Cursor")," get, telles que ",Object(r.b)("inlineCode",{parentName:"p"},"getString()")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"getLong()"),". Pour chacune des m\xe9thodes get, vous devez passer la position d'index de la colonne souhait\xe9e, que vous pouvez obtenir en appelant ",Object(r.b)("inlineCode",{parentName:"p"},"getColumnIndex()")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"getColumnIndexOrThrow()"),". Une fois l'it\xe9ration des r\xe9sultats termin\xe9e, appelez ",Object(r.b)("inlineCode",{parentName:"p"},"close()")," sur le curseur pour lib\xe9rer ses ressources. Par exemple, ce qui suit montre comment obtenir tous les ID d'\xe9l\xe9ment stock\xe9s dans un curseur et les ajouter \xe0 une liste:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"List itemIds = new ArrayList<>();\nwhile(cursor.moveToNext()) {\n  long itemId = cursor.getLong(\n      cursor.getColumnIndexOrThrow(FluxNoms._ID));\n  itemIds.add(itemId);\n}\ncursor.close();\n")),Object(r.b)("h2",{id:"\xe9tape-5---supprimer-des-informations-dune-base-de-donn\xe9es"},"\xc9tape 5 - Supprimer des informations d'une base de donn\xe9es"),Object(r.b)("p",null,"Pour supprimer des lignes d'une table, vous devez fournir des crit\xe8res de s\xe9lection qui identifient les lignes de la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"delete()"),". Le m\xe9canisme fonctionne de la m\xeame mani\xe8re que les arguments de s\xe9lection de la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"query()"),". Il divise la sp\xe9cification de s\xe9lection en une clause de s\xe9lection et des arguments de s\xe9lection. La clause d\xe9finit les colonnes \xe0 examiner et vous permet \xe9galement de combiner des tests de colonne. Les arguments sont des valeurs \xe0 tester qui sont li\xe9es dans la clause. \xc9tant donn\xe9 que le r\xe9sultat n'est pas g\xe9r\xe9 de la m\xeame mani\xe8re qu'une instruction SQL standard, il est immunis\xe9 contre l'injection SQL."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'// D\xe9finie le WHERE\nString selection = FluxNoms.NOM_COLONNE_TITRE + " LIKE ?";\n// Sp\xe9cifie les arguments du ? dans le WHERE\nString[] selectionArgs = { "Mon Titre" };\n// Instruction SQL.\nint deletedRows = db.delete(FluxNoms.NOM_TABLE, selection, selectionArgs);\n')),Object(r.b)("p",null,"La valeur de retour de la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"delete()")," indique le nombre de lignes supprim\xe9es de la base de donn\xe9es."),Object(r.b)("h2",{id:"\xe9tape-6---mettre-\xe0-jour-une-base-de-donn\xe9es"},"\xc9tape 6 - Mettre \xe0 jour une base de donn\xe9es"),Object(r.b)("p",null,"Lorsque vous devez modifier un sous-ensemble de vos valeurs de base de donn\xe9es, utilisez la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"update()"),"."),Object(r.b)("p",null,"La mise \xe0 jour de la table combine la syntaxe de ",Object(r.b)("inlineCode",{parentName:"p"},"ContentValues")," de ",Object(r.b)("inlineCode",{parentName:"p"},"insert()")," avec la syntaxe du WHERE de ",Object(r.b)("inlineCode",{parentName:"p"},"delete()"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n// Nouvelle valeur\nString title = "Mon nouveau titre";\nContentValues values = new ContentValues();\nvalues.put(FluxNoms.NOM_COLONNE_TITRE, title);\n\n// Quelle ligne \xe0 mettre a jour avec un WHERE\nString selection = FluxNoms.NOM_COLONNE_TITRE + " LIKE ?";\nString[] selectionArgs = { "Mon ancien titre" };\n\nint count = db.update(\n    FluxNoms.NOM_TABLE,\n    values,\n    selection,\n    selectionArgs);\n')),Object(r.b)("p",null,"La valeur de retour de la m\xe9thode ",Object(r.b)("inlineCode",{parentName:"p"},"update()")," est le nombre de lignes affect\xe9es dans la base de donn\xe9es."),Object(r.b)("h2",{id:"\xe9tape-7---connexion-\xe0-la-base-de-donn\xe9es-persistante"},"\xc9tape 7 - Connexion \xe0 la base de donn\xe9es persistante"),Object(r.b)("p",null,"Etant donn\xe9 que ",Object(r.b)("inlineCode",{parentName:"p"},"getWritableDatabase()")," et ",Object(r.b)("inlineCode",{parentName:"p"},"getReadableDatabase()")," sont co\xfbteux lorsque la base de donn\xe9es est ferm\xe9e, vous devez laisser votre connexion \xe0 la base de donn\xe9es ouverte aussi longtemps que vous en aurez besoin pour y acc\xe9der. En r\xe8gle g\xe9n\xe9rale, il est optimal de fermer la base de donn\xe9es dans le onDestroy()de l'activit\xe9 appelante."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"@Override\nprotected void onDestroy() {\n    dbHelper.close();\n    super.onDestroy();\n}\n")))}d.isMDXComponent=!0}}]);